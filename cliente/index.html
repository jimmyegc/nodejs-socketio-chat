<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chat</title>
</head>
<body>
  <h1>App Chat</h1>
<hr>
<ul class="list-group">
  <li>a</li>
</ul>

<form action="">
  <input type="text" placeholder="Ingrese el mensaje">
  <button>Enviar</button>
</form>
  <script src="http://localhost:3000/socket.io/socket.io.js"></script>
<script>
  const socket = io()
  const form = document.querySelector('form')
  const input = document.querySelector('input')
  const messages = document.querySelector('ul')

  form.addEventListener('submit', (e) => {
    e.preventDefault()
    if(input.value) {
      socket.emit('chat', input.value)
      input.value = ''
    }
  })

  socket.on('chat', (msg) => {
    let item = document.createElement('li')
    item.textContent=msg
    messages.appendChild(item)
    window.scrollTo(0, document.body.scrollHeight)
  })
</script>
</body>
</html>

